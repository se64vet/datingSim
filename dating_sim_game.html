<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game H·∫πn H√≤ Cu·ªëi Tu·∫ßn</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .game-container {
            max-width: 800px;
            width: 90%;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 40px;
            min-height: 600px;
        }

        .game-header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #eee;
            padding-bottom: 20px;
        }

        .game-title {
            font-size: 2.5em;
            color: #333;
            margin-bottom: 10px;
        }

        .game-subtitle {
            color: #666;
            font-style: italic;
        }

        .story-section {
            margin-bottom: 30px;
        }

        .story-text {
            font-size: 1.1em;
            line-height: 1.6;
            color: #333;
            margin-bottom: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            border-radius: 5px;
        }

        .character-name {
            font-weight: bold;
            color: #764ba2;
        }

        .choices-container {
            display: grid;
            gap: 15px;
            margin-top: 20px;
        }

        .choice-button {
            padding: 15px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            text-align: left;
            position: relative;
            overflow: hidden;
        }

        .choice-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .choice-button:active {
            transform: translateY(0);
        }

        .choice-button::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .choice-button:hover::before {
            left: 100%;
        }

        .stats-container {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            padding: 15px;
            background: #f0f0f0;
            border-radius: 10px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 1.2em;
            font-weight: bold;
            color: #667eea;
        }

        .stat-label {
            font-size: 0.9em;
            color: #666;
        }

        .ending-screen {
            text-align: center;
            padding: 40px 20px;
        }

        .ending-title {
            font-size: 2em;
            color: #333;
            margin-bottom: 20px;
        }

        .ending-text {
            font-size: 1.2em;
            color: #666;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .restart-button {
            padding: 15px 30px;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1em;
            transition: background 0.3s ease;
        }

        .restart-button:hover {
            background: #218838;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #eee;
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        @media (max-width: 600px) {
            .game-container {
                padding: 20px;
            }

            .game-title {
                font-size: 2em;
            }

            .story-text {
                font-size: 1em;
                padding: 15px;
            }
        }
    </style>
</head>

<body>
    <div class="game-container">
        <div class="game-header">
            <h1 class="game-title">üíï Game H·∫πn H√≤ Cu·ªëi Tu·∫ßn üíï</h1>
            <p class="game-subtitle">M·ªôt cu·ªôc phi√™u l∆∞u l√£ng m·∫°n ƒëang ch·ªù b·∫°n...</p>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div class="stats-container">
            <div class="stat-item">
                <div class="stat-value" id="adventureScore">0</div>
                <div class="stat-label">Phi√™u l∆∞u</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="romanceScore">0</div>
                <div class="stat-label">L√£ng m·∫°n</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="playfulScore">0</div>
                <div class="stat-label">Vui t∆∞∆°i</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="thoughtfulScore">0</div>
                <div class="stat-label">Chu ƒë√°o</div>
            </div>
        </div>

        <div id="gameContent"></div>
    </div>

    <script type="module">
        // Game Story Data in JSON format
        const gameStory = {
            "scenes": {
                "start": {
                    "text": "B·∫°n th·ª©c d·∫≠y v·ªõi √°nh n·∫Øng m·∫∑t tr·ªùi chi·∫øu qua r√®m c·ª≠a. ƒê√≥ l√† bu·ªïi s√°ng th·ª© B·∫£y, v√† b·∫°n ho√†n to√†n kh√¥ng c√≥ k·∫ø ho·∫°ch g√¨. B·∫°n du·ªói ng∆∞·ªùi, c·∫ßm ƒëi·ªán tho·∫°i l√™n, v√† th·∫•y m·ªôt tin nh·∫Øn t·ª´ <span class='character-name'>Alex</span>, b·∫°n trai c·ªßa b·∫°n ƒë∆∞·ª£c 8 th√°ng.<br><br><strong>Tin nh·∫Øn c·ªßa Alex:</strong> \"Ch√†o c√¥ng ch√∫a ng·ªß! üòä Anh ch√°n mu·ªën ch·∫øt. Em mu·ªën l√†m g√¨ vui h√¥m nay kh√¥ng?\"",
                    "choices": [
                        {
                            "text": "\"Anh ∆°i em v·∫´n ƒëang m·∫∑c ƒë·ªì ng·ªß! Cho em 30 ph√∫t ƒë·ªÉ tr√¥ng ng∆∞·ªùi ta ch√∫t üòÖ\"",
                            "next": "response_pajamas",
                            "stats": { "thoughtful": 1 }
                        },
                        {
                            "text": "\"C√ì! Em v·ª´a n·∫±m ƒë√¢y nghƒ© kh√¥ng bi·∫øt l√†m g√¨ v·ªõi cu·ªôc ƒë·ªùi m√¨nh\"",
                            "next": "response_excited",
                            "stats": { "adventure": 1 }
                        },
                        {
                            "text": "\"Ch·ªâ khi n√†o anh h·ª©a s·∫Ω l√†m cho n√≥ th√∫ v·ªã th√¥i üòè\"",
                            "next": "response_flirty",
                            "stats": { "playful": 1, "romance": 1 }
                        }
                    ]
                },
                "response_pajamas": {
                    "text": "<span class='character-name'>Alex</span> tr·∫£ l·ªùi: \"Em c·ª© t·ª´ t·ª´! Anh s·∫Ω mua c√† ph√™ cho c·∫£ hai. H√¥m nay em u·ªëng g√¨?\"<br><br>B·∫°n nhanh ch√≥ng quy·∫øt ƒë·ªãnh c√°ch chu·∫©n b·ªã...",
                    "choices": [
                        {
                            "text": "T·∫Øm nhanh v√† m·∫∑c ƒë·ªì th∆∞·ªùng",
                            "next": "coffee_shop",
                            "stats": { "thoughtful": 1 }
                        },
                        {
                            "text": "M·∫∑c l·∫°i ƒë·ªì h√¥m qua v√† kho√°c √°o jacket xinh",
                            "next": "coffee_shop",
                            "stats": { "playful": 1 }
                        },
                        {
                            "text": "L√†m ƒë·∫πp tr·ªçn v·∫πn - em mu·ªën tr√¥ng ho√†n h·∫£o",
                            "next": "coffee_shop",
                            "stats": { "romance": 1 }
                        }
                    ]
                },
                "response_excited": {
                    "text": "<span class='character-name'>Alex</span> tr·∫£ l·ªùi: \"Ho√†n h·∫£o! Anh c√≥ m·ªôt v√†i √Ω t∆∞·ªüng. Em mu·ªën nghe kh√¥ng hay ch√∫ng ta t√πy h·ª©ng?\"",
                    "choices": [
                        {
                            "text": "\"K·ªÉ cho em nghe √Ω t∆∞·ªüng c·ªßa anh ƒëi! Em c·∫ßn l·ª±a ch·ªçn\"",
                            "next": "coffee_shop",
                            "stats": { "thoughtful": 1 }
                        },
                        {
                            "text": "\"B·∫•t ng·ªù cho em ƒëi! Em tin anh\"",
                            "next": "coffee_shop",
                            "stats": { "romance": 1 }
                        },
                        {
                            "text": "\"H√£y t√πy h·ª©ng ƒëi - cu·ªôc phi√™u l∆∞u ƒëang ch·ªù!\"",
                            "next": "coffee_shop",
                            "stats": { "adventure": 2 }
                        }
                    ]
                },
                "response_flirty": {
                    "text": "<span class='character-name'>Alex</span> tr·∫£ l·ªùi: \"Th√°ch th·ª©c ƒë∆∞·ª£c ch·∫•p nh·∫≠n! Anh bi·∫øt ch√≠nh x√°c ch√∫ng ta s·∫Ω l√†m g√¨ r·ªìi...\"<br><br>Gi·ªçng ƒëi·ªáu b√≠ ·∫©n c·ªßa anh ·∫•y khi·∫øn b·∫°n t√≤ m√≤ v√† h·ª©ng th√∫.",
                    "choices": [
                        {
                            "text": "\"B√≠ ·∫©n qu√°... em th√≠ch. ƒê·∫øn ƒë√≥n em ƒëi!\"",
                            "next": "coffee_shop",
                            "stats": { "romance": 1, "adventure": 1 }
                        },
                        {
                            "text": "\"Th√∫ v·ªã nh∆∞ th·∫ø n√†o? Em c√≥ n√™n lo l·∫Øng kh√¥ng? üòÇ\"",
                            "next": "coffee_shop",
                            "stats": { "playful": 2 }
                        },
                        {
                            "text": "\"Mang ƒë·ªì ƒÉn v·∫∑t ƒëi v√† em s·∫Ω tham gia b·∫•t c·ª© g√¨\"",
                            "next": "coffee_shop",
                            "stats": { "playful": 1, "thoughtful": 1 }
                        }
                    ]
                },
                "coffee_shop": {
                    "text": "B·∫°n g·∫∑p <span class='character-name'>Alex</span> t·∫°i \"The Grind,\" qu√°n c√† ph√™ y√™u th√≠ch c·ªßa c√°c b·∫°n. Anh ·∫•y ƒë√£ ƒë·∫∑t s·∫µn ƒë·ªì u·ªëng quen thu·ªôc c·ªßa b·∫°n - iced caramel macchiato v·ªõi th√™m kem.<br><br><span class='character-name'>Alex:</span> \"Anh ƒëang nghƒ©... ch√∫ng ta c√≥ th·ªÉ xem tri·ªÉn l√£m ngh·ªá thu·∫≠t m·ªõi ·ªü trung t√¢m, ho·∫∑c c√≥ l·ªÖ h·ªôi xe ƒë·ªì ƒÉn ·ªü c√¥ng vi√™n, ho·∫∑c...\" <em>anh c∆∞·ªùi tinh ngh·ªãch</em> \"ch√∫ng ta c√≥ th·ªÉ x√¢y l·ªÅu chƒÉn trong cƒÉn h·ªô c·ªßa anh nh∆∞ l√∫c 12 tu·ªïi.\"",
                    "choices": [
                        {
                            "text": "\"Tri·ªÉn l√£m ngh·ªá thu·∫≠t nghe sang tr·ªçng! H√£y vƒÉn h√≥a h√≥a b·∫£n th√¢n\"",
                            "next": "art_installation",
                            "stats": { "thoughtful": 2 }
                        },
                        {
                            "text": "\"L·ªÖ h·ªôi xe ƒë·ªì ƒÉn! B·ª•ng em ƒë√£ h√†o h·ª©ng r·ªìi\"",
                            "next": "food_festival",
                            "stats": { "adventure": 1, "playful": 1 }
                        },
                        {
                            "text": "\"L·ªÅu chƒÉn! Nh∆∞ng ch·ªâ khi c√≥ ƒë·ªì ƒÉn v·∫∑t th√≠ch h·ª£p\"",
                            "next": "blanket_fort",
                            "stats": { "playful": 2, "romance": 1 }
                        },
                        {
                            "text": "\"T·∫°i sao kh√¥ng l√†m c·∫£ ba? Ch√∫ng ta c√≥ c·∫£ ng√†y m√†!\"",
                            "next": "ambitious_plan",
                            "stats": { "adventure": 2, "playful": 1 }
                        }
                    ]
                },
                "art_installation": {
                    "text": "Tri·ªÉn l√£m c√≥ t√™n \"Gi·∫•c M∆° K·ªπ Thu·∫≠t S·ªë\" - nh·ªØng m√†n h√¨nh t∆∞∆°ng t√°c ph·∫£n ·ª©ng v·ªõi s·ª± ch·∫°m v√† chuy·ªÉn ƒë·ªông.<br><br><span class='character-name'>Alex:</span> \"ƒêi√™n r·ªìi! Nh√¨n n√†y, n√≥ ƒë·ªïi m√†u khi ch√∫ng ta ƒë·ª©ng g·∫ßn nhau!\"<br><br>T√°c ph·∫©m ngh·ªá thu·∫≠t t·∫°o ra nh·ªØng hoa vƒÉn ƒë·∫πp khi c·∫£ hai b·∫°n di chuy·ªÉn xung quanh.",
                    "choices": [
                        {
                            "text": "Ch·ª•p ·∫£nh ngh·ªá thu·∫≠t c√πng nhau v·ªõi t√°c ph·∫©m",
                            "next": "afternoon_activity",
                            "stats": { "romance": 1, "thoughtful": 1 }
                        },
                        {
                            "text": "C·ªë g·∫Øng t√¨m hi·ªÉu c√¥ng ngh·ªá n√†y ho·∫°t ƒë·ªông nh∆∞ th·∫ø n√†o",
                            "next": "afternoon_activity",
                            "stats": { "thoughtful": 2 }
                        },
                        {
                            "text": "T·∫°o ra nh·ªØng c√¢u chuy·ªán vui v·ªÅ √Ω nghƒ©a c·ªßa t·ª´ng t√°c ph·∫©m",
                            "next": "afternoon_activity",
                            "stats": { "playful": 2 }
                        },
                        {
                            "text": "Ch·ªâ t·∫≠n h∆∞·ªüng kho·∫£nh kh·∫Øc n√†y m·ªôt c√°ch y√™n l·∫∑ng, n·∫Øm tay nhau",
                            "next": "afternoon_activity",
                            "stats": { "romance": 2 }
                        }
                    ]
                },
                "food_festival": {
                    "text": "C√¥ng vi√™n nh·ªôn nh·ªãp v·ªõi m·ªçi ng∆∞·ªùi, √¢m nh·∫°c v√† m√πi th∆°m tuy·ªát v·ªùi. C√≥ √≠t nh·∫•t 15 xe ƒë·ªì ƒÉn kh√°c nhau.<br><br><span class='character-name'>Alex:</span> \"ƒê∆∞·ª£c r·ªìi, ƒë·∫øn l√∫c chi·∫øn thu·∫≠t. Ch√∫ng ta chia s·∫ª nh·ªØng m√≥n kh√°c nhau hay m·ªói ng∆∞·ªùi g·ªçi ri√™ng?\"",
                    "choices": [
                        {
                            "text": "\"H√£y l·∫•y m·ªôt m√≥n t·ª´ m·ªói xe! Ng·∫•t v√¨ ƒë·ªì ƒÉn lu√¥n!\"",
                            "next": "afternoon_activity",
                            "stats": { "adventure": 2, "playful": 1 }
                        },
                        {
                            "text": "\"Em mu·ªën tacos H√†n Qu·ªëc, anh ch·ªçn c√°i kh√°c v√† ch√∫ng ta chia s·∫ª\"",
                            "next": "afternoon_activity",
                            "stats": { "romance": 1, "thoughtful": 1 }
                        },
                        {
                            "text": "\"T√¨m combo k·ª≥ l·∫° nh·∫•t c√≥ th·ªÉ - th√°ch th·ª©c ƒë∆∞·ª£c ch·∫•p nh·∫≠n!\"",
                            "next": "afternoon_activity",
                            "stats": { "playful": 2, "adventure": 1 }
                        },
                        {
                            "text": "\"Anh bi·∫øt em th√≠ch g√¨ m√†, b·∫•t ng·ªù cho em ƒëi!\"",
                            "next": "afternoon_activity",
                            "stats": { "romance": 2 }
                        }
                    ]
                },
                "blanket_fort": {
                    "text": "Tr·ªü l·∫°i cƒÉn h·ªô c·ªßa <span class='character-name'>Alex</span>, c√°c b·∫°n ƒë∆∞·ª£c bao quanh b·ªüi g·ªëi, chƒÉn v√† d√¢y ƒë√®n.<br><br><span class='character-name'>Alex:</span> \"C√¢u h·ªèi k·ªπ thu·∫≠t: ch√∫ng ta n√™n h∆∞·ªõng t·ªõi s·ª± tho·∫£i m√°i t·ªëi ƒëa hay t√≠nh to√†n v·∫πn ki·∫øn tr√∫c?\"",
                    "choices": [
                        {
                            "text": "\"Tho·∫£i m√°i h·∫øt c·ª°! Em mu·ªën ch√¨m v√†o c√°i n√†y\"",
                            "next": "afternoon_activity",
                            "stats": { "romance": 1, "thoughtful": 1 }
                        },
                        {
                            "text": "\"N√≥ c·∫ßn ph·∫£i x·ª©ng ƒë√°ng v·ªõi Instagram. L√†m cho n√≥ ƒë·∫πp!\"",
                            "next": "afternoon_activity",
                            "stats": { "playful": 1, "thoughtful": 1 }
                        },
                        {
                            "text": "\"C·∫£ hai! Ch√∫ng ta ƒëang x√¢y Ph√°o ƒê√†i c·ªßa Nh·ªØng Gi·∫•c M∆°!\"",
                            "next": "afternoon_activity",
                            "stats": { "adventure": 1, "playful": 1 }
                        },
                        {
                            "text": "\"L√†m n√≥ ƒë·ªß l·ªõn cho marathon phim\"",
                            "next": "afternoon_activity",
                            "stats": { "romance": 2 }
                        }
                    ]
                },
                "ambitious_plan": {
                    "text": "B·∫°n quy·∫øt ƒë·ªãnh th·ª±c hi·ªán c·∫£ ba ho·∫°t ƒë·ªông! B·∫°n b·∫Øt ƒë·∫ßu v·ªõi tri·ªÉn l√£m ngh·ªá thu·∫≠t, sau ƒë√≥ ƒë·∫øn l·ªÖ h·ªôi ƒë·ªì ƒÉn, v√† cu·ªëi c√πng v·ªÅ cƒÉn h·ªô c·ªßa <span class='character-name'>Alex</span> ƒë·ªÉ x√¢y l·ªÅu chƒÉn.<br><br><span class='character-name'>Alex:</span> \"Anh th√≠ch tham v·ªçng c·ªßa em! ƒê√¢y l√† l√Ω do t·∫°i sao ch√∫ng ta ho√†n h·∫£o v·ªõi nhau.\"",
                    "choices": [
                        {
                            "text": "\"Ch√∫ng ta t·∫°o th√†nh m·ªôt ƒë·ªôi kh√° t·ªët, ph·∫£i kh√¥ng?\"",
                            "next": "afternoon_activity",
                            "stats": { "romance": 2, "thoughtful": 1 }
                        },
                        {
                            "text": "\"Cu·ªôc s·ªëng qu√° ng·∫Øn cho nh·ªØng cu·ªôc phi√™u l∆∞u nh·ªè!\"",
                            "next": "afternoon_activity",
                            "stats": { "adventure": 2, "playful": 1 }
                        }
                    ]
                },
                "afternoon_activity": {
                    "text": "Khi bu·ªïi chi·ªÅu ti·∫øp t·ª•c, c·∫£ hai b·∫°n ƒë·ªÅu c√≥ m·ªôt th·ªùi gian tuy·ªát v·ªùi. <span class='character-name'>Alex</span> nh√¨n b·∫°n v·ªõi n·ª• c∆∞·ªùi ƒë·∫∑c bi·ªát ƒë√≥.<br><br><span class='character-name'>Alex:</span> \"H√¥m nay ho√†n h·∫£o qu√°, nh∆∞ng anh c√≤n m·ªôt √Ω t∆∞·ªüng n·ªØa...\"",
                    "choices": [
                        {
                            "text": "\"Em th√≠ch nh·ªØng √Ω t∆∞·ªüng c·ªßa anh h√¥m nay! L√† g√¨ th·∫ø?\"",
                            "next": "surprise_reveal",
                            "stats": { "romance": 1, "thoughtful": 1 }
                        },
                        {
                            "text": "\"Mi·ªÖn l√† kh√¥ng li√™n quan ƒë·∫øn ƒëi b·ªô th√™m n·ªØa üòÖ\"",
                            "next": "surprise_reveal",
                            "stats": { "playful": 1 }
                        },
                        {
                            "text": "\"C√≥ li√™n quan ƒë·∫øn ƒë·ªì ƒÉn kh√¥ng? Xin h√£y n√≥i c√≥\"",
                            "next": "surprise_reveal",
                            "stats": { "playful": 2 }
                        },
                        {
                            "text": "\"B·∫•t ng·ªù cho em l·∫ßn n·ªØa ƒëi!\"",
                            "next": "surprise_reveal",
                            "stats": { "adventure": 1, "romance": 1 }
                        }
                    ]
                },
                "surprise_reveal": {
                    "text": "<span class='character-name'>Alex</span> d·∫´n b·∫°n ƒë·∫øn m·ªôt s√¢n mini golf ƒë∆∞·ª£c chuy·ªÉn ƒë·ªïi th√†nh \"cu·ªôc phi√™u l∆∞u ph√°t s√°ng trong b√≥ng t·ªëi.\"<br><br><span class='character-name'>Alex:</span> \"Anh nh·ªõ em n√≥i em ch∆∞a bao gi·ªù ch∆°i glow golf!\"",
                    "choices": [
                        {
                            "text": "\"Tuy·ªát v·ªùi! Nh∆∞ng em d·ªü t·ªá ·ªü golf th∆∞·ªùng...\"",
                            "next": "evening_decision",
                            "stats": { "playful": 1, "thoughtful": 1 }
                        },
                        {
                            "text": "\"Anh nh·ªõ! Chu·∫©n b·ªã ch·ª©ng ki·∫øn t√†i nƒÉng mini-golf ·∫©n gi·∫•u c·ªßa em\"",
                            "next": "evening_decision",
                            "stats": { "playful": 2, "romance": 1 }
                        },
                        {
                            "text": "\"Ch·ªâ khi ng∆∞·ªùi thua mua kem sau ƒë√≥\"",
                            "next": "evening_decision",
                            "stats": { "playful": 2 }
                        },
                        {
                            "text": "\"Em y√™u vi·ªác anh l·∫Øng nghe nh·ªØng b√¨nh lu·∫≠n ng·∫´u nhi√™n c·ªßa em üíï\"",
                            "next": "evening_decision",
                            "stats": { "romance": 2, "thoughtful": 1 }
                        }
                    ]
                },
                "evening_decision": {
                    "text": "C·∫£ hai b·∫°n ƒë·ªÅu m·ªát m·ªèi nh∆∞ng h·∫°nh ph√∫c, ng·ªìi tr√™n gh·∫ø bƒÉng ng·∫Øm ho√†ng h√¥n.<br><br><span class='character-name'>Alex:</span> \"Th·ª© B·∫£y tuy·ªát v·ªùi nh·∫•t. Nh∆∞ng anh ƒë√≥i r·ªìi. Nh√† em hay nh√† anh ƒë·ªÉ ƒÉn t·ªëi?\"",
                    "choices": [
                        {
                            "text": "\"Nh√† em! Em s·∫Ω n·∫•u cho ch√∫ng ta c√°i g√¨ ƒë√≥ tuy·ªát v·ªùi\"",
                            "next": "cooking_together",
                            "stats": { "thoughtful": 2, "romance": 1 }
                        },
                        {
                            "text": "\"Nh√† anh, nh∆∞ng anh ph·∫£i n·∫•u! Em s·∫Ω gi√°m s√°t\"",
                            "next": "alex_cooking",
                            "stats": { "playful": 1, "romance": 1 }
                        },
                        {
                            "text": "\"G·ªçi pizza v√† n·∫±m xu·ªëng th√¥i\"",
                            "next": "pizza_night",
                            "stats": { "playful": 2 }
                        },
                        {
                            "text": "\"Th·∫ø c√≤n qu√°n Th√°i m·ªõi m√† ch√∫ng ta ƒë·ªãnh th·ª≠?\"",
                            "next": "restaurant_date",
                            "stats": { "adventure": 1, "thoughtful": 1 }
                        }
                    ]
                },
                "cooking_together": {
                    "text": "C√°c b·∫°n c√πng nhau trong b·∫øp, nh·∫°c ƒëang ph√°t, l√†m m√¨ pasta t·ª´ ƒë·∫ßu.<br><br><span class='character-name'>Alex:</span> \"Em bi·∫øt kh√¥ng? C·∫£m gi√°c n√†y nh∆∞ cu·ªôc s·ªëng th·∫≠t. Nh∆∞... cu·ªôc s·ªëng t∆∞∆°ng lai.\"",
                    "choices": [
                        {
                            "text": "\"M·ªói ng√†y v·ªõi anh ƒë·ªÅu nh∆∞ th·∫ø n√†y\"",
                            "next": "ending",
                            "stats": { "romance": 3 }
                        },
                        {
                            "text": "\"Ch√∫ng ta kh√° tuy·ªát v·ªùi c√πng nhau, ph·∫£i kh√¥ng?\"",
                            "next": "ending",
                            "stats": { "romance": 2, "thoughtful": 1 }
                        }
                    ]
                },
                "alex_cooking": {
                    "text": "B·∫°n xem <span class='character-name'>Alex</span> c·ªë g·∫Øng l√†m th·ª© g√¨ ƒë√≥ ƒÉn ƒë∆∞·ª£c trong khi b·∫°n b√¨nh lu·∫≠n v√† l·∫•y tr·ªôm nguy√™n li·ªáu.<br><br><span class='character-name'>Alex:</span> \"C√≥ em ·ªü ƒë√¢y l√†m m·ªçi th·ª© t·ªët h∆°n, k·ªÉ c·∫£ vi·ªác n·∫•u ƒÉn t·ªá h·∫°i c·ªßa anh.\"",
                    "choices": [
                        {
                            "text": "\"Em y√™u nh·ªØng cu·ªôc phi√™u l∆∞u l∆∞·ªùi bi·∫øng c·ªßa ch√∫ng ta\"",
                            "next": "ending",
                            "stats": { "playful": 2, "romance": 1 }
                        },
                        {
                            "text": "\"ƒê√¢y ch√≠nh x√°c l√† ƒëi·ªÅu em c·∫ßn h√¥m nay\"",
                            "next": "ending",
                            "stats": { "thoughtful": 2, "romance": 1 }
                        }
                    ]
                },
                "pizza_night": {
                    "text": "C·∫£ hai b·∫°n ƒë·ªÅu n·∫±m d√†i tr√™n gh·∫ø sofa, h·ªôp pizza ·ªü kh·∫Øp n∆°i, reality TV t·ªá h·∫°i ƒëang ph√°t.<br><br><span class='character-name'>Alex:</span> \"Anh th√≠ch vi·ªác ch√∫ng ta c√≥ th·ªÉ ho√†n to√†n l∆∞·ªùi bi·∫øng c√πng nhau v√† v·∫´n ho√†n h·∫£o.\"",
                    "choices": [
                        {
                            "text": "\"ƒê√¢y ch√≠nh x√°c l√† ƒëi·ªÅu em c·∫ßn h√¥m nay\"",
                            "next": "ending",
                            "stats": { "playful": 2, "romance": 1 }
                        },
                        {
                            "text": "\"Ch√∫ng ta kh√° tuy·ªát v·ªùi c√πng nhau, ph·∫£i kh√¥ng?\"",
                            "next": "ending",
                            "stats": { "romance": 2, "thoughtful": 1 }
                        }
                    ]
                },
                "restaurant_date": {
                    "text": "√Ånh s√°ng th√¢n m·∫≠t, chia s·∫ª m√≥n tr√°ng mi·ªáng, quan s√°t nh·ªØng c·∫∑p ƒë√¥i kh√°c.<br><br><span class='character-name'>Alex:</span> \"Em c√≥ nghƒ© nh·ªØng c·∫∑p ƒë√¥i kh√°c vui v·∫ª nh∆∞ ch√∫ng ta kh√¥ng?\"",
                    "choices": [
                        {
                            "text": "\"M·ªói ng√†y v·ªõi anh ƒë·ªÅu nh∆∞ th·∫ø n√†y\"",
                            "next": "ending",
                            "stats": { "romance": 3 }
                        },
                        {
                            "text": "\"Ch√∫ng ta kh√° tuy·ªát v·ªùi c√πng nhau, ph·∫£i kh√¥ng?\"",
                            "next": "ending",
                            "stats": { "romance": 2, "thoughtful": 1 }
                        }
                    ]
                },
                "ending": {
                    "text": "ending_placeholder",
                    "choices": []
                }
            }
        };

        // Game State
        let currentScene = 'start';
        let gameStats = {
            adventure: 0,
            romance: 0,
            playful: 0,
            thoughtful: 0
        };
        let totalScenes = Object.keys(gameStory.scenes).length;
        let currentSceneIndex = 0;

        // Game Functions
        function updateStats(stats) {
            if (stats) {
                Object.keys(stats).forEach(key => {
                    gameStats[key] += stats[key];
                });
                updateStatsDisplay();
            }
        }

        function updateStatsDisplay() {
            document.getElementById('adventureScore').textContent = gameStats.adventure;
            document.getElementById('romanceScore').textContent = gameStats.romance;
            document.getElementById('playfulScore').textContent = gameStats.playful;
            document.getElementById('thoughtfulScore').textContent = gameStats.thoughtful;
        }

        function updateProgress() {
            const progress = (currentSceneIndex / totalScenes) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        function determineEnding() {
            const max = Math.max(gameStats.adventure, gameStats.romance, gameStats.playful, gameStats.thoughtful);

            if (gameStats.romance >= 8) {
                return {
                    title: "üíï Perfect Chemistry",
                    text: "You and Alex have discovered something truly special. The day was filled with romantic moments, deep connections, and genuine affection. As you cuddle together, you both feel like you've found your perfect match. This is just the beginning of many beautiful adventures together."
                };
            } else if (gameStats.adventure >= 6) {
                return {
                    title: "üåü Adventure Partners",
                    text: "You and Alex are the perfect adventure team! Today proved that you both crave excitement and new experiences. Whether it's trying new foods, exploring art, or taking on challenges together, you've found someone who matches your adventurous spirit. The future looks bright and full of exciting possibilities."
                };
            } else if (gameStats.playful >= 6) {
                return {
                    title: "üòÑ Playful Soulmates",
                    text: "Laughter and joy filled every moment of your day together. You and Alex bring out the best in each other's playful sides, creating a relationship full of fun, spontaneity, and happiness. Your ability to find joy in simple moments together is truly special."
                };
            } else if (gameStats.thoughtful >= 6) {
                return {
                    title: "üí≠ Deep Connection",
                    text: "Today revealed the depth of your connection with Alex. Your thoughtful choices and meaningful conversations have created a bond that goes beyond surface-level attraction. You've found someone who truly understands you and values the same things in life."
                };
            } else {
                return {
                    title: "üíù Sweet Harmony",
                    text: "Your balanced approach to the day created a perfect harmony between romance, adventure, playfulness, and thoughtfulness. You and Alex complement each other beautifully, and your relationship feels natural and comfortable. This is the kind of love that lasts."
                };
            }
        }

        function displayScene(sceneKey) {
            const scene = gameStory.scenes[sceneKey];
            const gameContent = document.getElementById('gameContent');

            if (sceneKey === 'ending') {
                const ending = determineEnding();
                gameContent.innerHTML = `
                    <div class="ending-screen">
                        <h2 class="ending-title">${ending.title}</h2>
                        <p class="ending-text">${ending.text}</p>
                        <button class="restart-button" onclick="restartGame()">Play Again</button>
                    </div>
                `;
                return;
            }

            let choicesHTML = '';
            scene.choices.forEach((choice, index) => {
                choicesHTML += `
                    <button class="choice-button" onclick="makeChoice(${index})">
                        ${choice.text}
                    </button>
                `;
            });

            gameContent.innerHTML = `
                <div class="story-section">
                    <div class="story-text">${scene.text}</div>
                    <div class="choices-container">
                        ${choicesHTML}
                    </div>
                </div>
            `;

            currentSceneIndex++;
            updateProgress();
        }

        function makeChoice(choiceIndex) {
            const scene = gameStory.scenes[currentScene];
            const choice = scene.choices[choiceIndex];

            updateStats(choice.stats);
            currentScene = choice.next;
            displayScene(currentScene);
        }

        function restartGame() {
            currentScene = 'start';
            currentSceneIndex = 0;
            gameStats = {
                adventure: 0,
                romance: 0,
                playful: 0,
                thoughtful: 0
            };
            updateStatsDisplay();
            updateProgress();
            displayScene(currentScene);
        }

        // Initialize the game
        document.addEventListener('DOMContentLoaded', function () {
            updateStatsDisplay();
            updateProgress();
            displayScene(currentScene);
        });
    </script>
</body>

</html>